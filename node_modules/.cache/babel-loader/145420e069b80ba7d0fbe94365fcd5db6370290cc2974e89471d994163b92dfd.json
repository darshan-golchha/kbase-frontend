{"ast":null,"code":"var _s = $RefreshSig$();\nimport axios from '../api/axios';\nimport useAuth from './useAuth';\nconst useRefreshToken = () => {\n  _s();\n  const {\n    auth,\n    setAuth\n  } = useAuth();\n  const refresh = async () => {\n    const response = await axios.get('/auth/refresh', {\n      withCredentials: true,\n      headers: {\n        Authorization: `Bearer ${auth.jwtToken}` // Include the JWT token in the Authorization header\n      }\n    });\n\n    console.log(response);\n    setAuth(prev => {\n      console.log(JSON.stringify(prev));\n      console.log(response.data.jwtToken);\n      return {\n        ...prev,\n        jwtToken: response.data.jwtToken\n      };\n    });\n    return response.data.jwtToken;\n  };\n  return refresh;\n};\n_s(useRefreshToken, \"6LBGSPwejaouvM/D8gpSe86HqQw=\", false, function () {\n  return [useAuth];\n});\nexport default useRefreshToken;","map":{"version":3,"names":["axios","useAuth","useRefreshToken","_s","auth","setAuth","refresh","response","get","withCredentials","headers","Authorization","jwtToken","console","log","prev","JSON","stringify","data"],"sources":["/Users/darshan/Documents/Nucleopedia/kbase-frontend/src/hooks/useRefreshToken.js"],"sourcesContent":["import axios from '../api/axios';\r\nimport useAuth from './useAuth';\r\n\r\n\r\nconst useRefreshToken = () => {\r\n    const { auth, setAuth } = useAuth();\r\n\r\n    const refresh = async () => {\r\n        const response = await axios.get('/auth/refresh', {\r\n            withCredentials: true,\r\n            headers: {\r\n              Authorization: `Bearer ${auth.jwtToken}`, // Include the JWT token in the Authorization header\r\n            },\r\n          });\r\n        console.log(response);\r\n        setAuth(prev => {\r\n            console.log(JSON.stringify(prev));\r\n            console.log(response.data.jwtToken);\r\n            return { ...prev, jwtToken: response.data.jwtToken }\r\n        });\r\n        return response.data.jwtToken;\r\n    }\r\n    return refresh;\r\n};\r\n\r\nexport default useRefreshToken;"],"mappings":";AAAA,OAAOA,KAAK,MAAM,cAAc;AAChC,OAAOC,OAAO,MAAM,WAAW;AAG/B,MAAMC,eAAe,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC1B,MAAM;IAAEC,IAAI;IAAEC;EAAQ,CAAC,GAAGJ,OAAO,CAAC,CAAC;EAEnC,MAAMK,OAAO,GAAG,MAAAA,CAAA,KAAY;IACxB,MAAMC,QAAQ,GAAG,MAAMP,KAAK,CAACQ,GAAG,CAAC,eAAe,EAAE;MAC9CC,eAAe,EAAE,IAAI;MACrBC,OAAO,EAAE;QACPC,aAAa,EAAG,UAASP,IAAI,CAACQ,QAAS,EAAC,CAAE;MAC5C;IACF,CAAC,CAAC;;IACJC,OAAO,CAACC,GAAG,CAACP,QAAQ,CAAC;IACrBF,OAAO,CAACU,IAAI,IAAI;MACZF,OAAO,CAACC,GAAG,CAACE,IAAI,CAACC,SAAS,CAACF,IAAI,CAAC,CAAC;MACjCF,OAAO,CAACC,GAAG,CAACP,QAAQ,CAACW,IAAI,CAACN,QAAQ,CAAC;MACnC,OAAO;QAAE,GAAGG,IAAI;QAAEH,QAAQ,EAAEL,QAAQ,CAACW,IAAI,CAACN;MAAS,CAAC;IACxD,CAAC,CAAC;IACF,OAAOL,QAAQ,CAACW,IAAI,CAACN,QAAQ;EACjC,CAAC;EACD,OAAON,OAAO;AAClB,CAAC;AAACH,EAAA,CAnBID,eAAe;EAAA,QACSD,OAAO;AAAA;AAoBrC,eAAeC,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}