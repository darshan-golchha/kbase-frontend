{"ast":null,"code":"var _jsxFileName = \"D:\\\\OneDrive\\\\OneDrive - nucleusonline\\\\Documents\\\\Kbase\\\\kbase-frontend\\\\src\\\\components\\\\Login.js\",\n  _s = $RefreshSig$();\nimport react, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport { authenticate, authFailure, authSuccess } from '../redux/authActions';\nimport { userLogin } from '../api/authenticationService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginPage = _ref => {\n  _s();\n  let {\n    loading,\n    error,\n    ...props\n  } = _ref;\n  const [values, setValues] = useState({\n    userName: '',\n    password: ''\n  });\n  const handleSubmit = evt => {\n    evt.preventDefault();\n    props.authenticate();\n    userLogin(values).then(response => {\n      console.log(\"response\", response);\n      if (response.status === 200) {\n        props.setUser(response.data);\n        props.history.push('/dashboard');\n      } else {\n        props.loginFailure('Something Wrong!Please Try Again');\n      }\n    }).catch(err => {\n      if (err && err.response) {\n        switch (err.response.status) {\n          case 401:\n            console.log(\"401 status\");\n            props.loginFailure(\"Authentication Failed.Bad Credentials\");\n            break;\n          default:\n            props.loginFailure('Something Wrong!Please Try Again');\n        }\n      } else {\n        props.loginFailure('Something Wrong!Please Try Again');\n      }\n    });\n    //console.log(\"Loading again\",loading);\n  };\n\n  const handleChange = e => {\n    e.persist();\n    setValues(values => ({\n      ...values,\n      [e.target.name]: e.target.value\n    }));\n  };\n  console.log(\"Loading \", loading);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Hello\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 9\n  }, this);\n};\n_s(LoginPage, \"BSr54SbhcmJhSbkfyVzKmv8Vypk=\");\n_c = LoginPage;\nconst mapStateToProps = _ref2 => {\n  let {\n    auth\n  } = _ref2;\n  console.log(\"state \", auth);\n  return {\n    loading: auth.loading,\n    error: auth.error\n  };\n};\nconst mapDispatchToProps = dispatch => {\n  return {\n    authenticate: () => dispatch(authenticate()),\n    setUser: data => dispatch(authSuccess(data)),\n    loginFailure: message => dispatch(authFailure(message))\n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginPage);\nvar _c;\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"names":["react","useState","connect","authenticate","authFailure","authSuccess","userLogin","jsxDEV","_jsxDEV","LoginPage","_ref","_s","loading","error","props","values","setValues","userName","password","handleSubmit","evt","preventDefault","then","response","console","log","status","setUser","data","history","push","loginFailure","catch","err","handleChange","e","persist","target","name","value","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","mapStateToProps","_ref2","auth","mapDispatchToProps","dispatch","message","$RefreshReg$"],"sources":["D:/OneDrive/OneDrive - nucleusonline/Documents/Kbase/kbase-frontend/src/components/Login.js"],"sourcesContent":["import react,{useState} from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { authenticate, authFailure, authSuccess } from '../redux/authActions';\r\nimport {userLogin} from '../api/authenticationService';\r\n\r\nconst LoginPage=({loading,error,...props})=>{\r\n\r\n\r\n    const [values, setValues] = useState({\r\n        userName: '',\r\n        password: ''\r\n        });\r\n\r\n    const handleSubmit=(evt)=>{\r\n        evt.preventDefault();\r\n        props.authenticate();\r\n\r\n        userLogin(values).then((response)=>{\r\n\r\n            console.log(\"response\",response);\r\n            if(response.status===200){\r\n                props.setUser(response.data);\r\n                props.history.push('/dashboard');\r\n            }\r\n            else{\r\n               props.loginFailure('Something Wrong!Please Try Again'); \r\n            }\r\n\r\n\r\n        }).catch((err)=>{\r\n\r\n            if(err && err.response){\r\n            \r\n            switch(err.response.status){\r\n                case 401:\r\n                    console.log(\"401 status\");\r\n                    props.loginFailure(\"Authentication Failed.Bad Credentials\");\r\n                    break;\r\n                default:\r\n                    props.loginFailure('Something Wrong!Please Try Again'); \r\n\r\n            }\r\n\r\n            }\r\n            else{\r\n                props.loginFailure('Something Wrong!Please Try Again');\r\n            }\r\n                \r\n\r\n            \r\n\r\n        });\r\n        //console.log(\"Loading again\",loading);\r\n\r\n        \r\n    }\r\n\r\n    const handleChange = (e) => {\r\n        e.persist();\r\n        setValues(values => ({\r\n        ...values,\r\n        [e.target.name]: e.target.value\r\n        }));\r\n    };\r\n\r\n    console.log(\"Loading \",loading);\r\n\r\n    return (\r\n        <div>\r\n            Hello\r\n        </div>\r\n    )\r\n\r\n\r\n    \r\n}\r\n\r\nconst mapStateToProps=({auth})=>{\r\n    console.log(\"state \",auth)\r\n    return {\r\n        loading:auth.loading,\r\n        error:auth.error\r\n}}\r\n\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n\r\n    return {\r\n        authenticate :()=> dispatch(authenticate()),\r\n        setUser:(data)=> dispatch(authSuccess(data)),\r\n        loginFailure:(message)=>dispatch(authFailure(message))\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(LoginPage);\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}